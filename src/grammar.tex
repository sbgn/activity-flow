\chapter{Activity Flow language grammar}
\label{chp:af:grammar}

\section{Overview}
In this chapter, we describe how the glyphs of SBGN AF can be combined to make a valid SBGN AF map. To do this, we must at the very least define which glyphs can be connected to each other and which glyphs can contain others. In addition to connectivity and containment rules, we must also specify glyph specific rules that impose further constraints based on the biological roles represented. These rules help preserve the clarity, consistency, and interpretability of SBGN AF diagrams across different tools and users.

In this section we start off by describing the concepts of the \AF{} notation. Next, a detailed description of the connectivity and containment is provided followed by glyph specific rules.

\section{Concepts}

The SBGN \AF{} is more than a collection of symbols. It is a visual language that uses specific abstractions to describe the biological activities that make up a model, a signalling pathway or a metabolic network. This abstraction is the semantics of SBGN, and to describe it requires more than a definition of the symbols and syntax of the language. 

The \AF{} in SBGN describes biological activities involving biological entities. A \emph{biological activity} can influence, or be influenced by, other \glyph{biological activities}, and such relationships are represented in \AF by lines with arrows and other decorations. So, the essence of \AF is to show the flow of activities from one entity to another or within the same entity. The underlying mechanisms of how the influence occurs may not be known and are not captured in the diagram. If the mechanism is known, the details should be described in annotation or captured in other SBGN languages, such as \PD and/or \ER.

\input{syntax.tex}

\input{semantics.tex}

